<%@ page contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core"%>
<%@ taglib prefix="fmt" uri="jakarta.tags.fmt"%>

<!-- TiÃªu Ä‘á» trang -->
<div class="page-header">
  <h2>ğŸ“Š Sá»• thu chi</h2>
</div>

<!-- Bá»™ lá»c theo thá»i gian -->
<div class="section">
  <h3>ğŸ” Lá»c theo thá»i gian</h3>
  <form method="get" action="${pageContext.request.contextPath}/home">
    <div class="form-row">
      <label for="from">Tá»« ngÃ y</label>
      <input id="from" type="date" name="from" value="${from}">
      <label for="to">Äáº¿n ngÃ y</label>
      <input id="to" type="date" name="to" value="${to}">
      <button type="submit" class="btn">Lá»c dá»¯ liá»‡u</button>
    </div>
  </form>
</div>

<!-- Chi tiÃªu -->
<div class="section">
  <h3>ğŸ’¸ Chi tiÃªu</h3>
  <table class="table transaction-table">
    <thead>
      <tr>
        <th>ğŸ“… NgÃ y</th>
        <th>ğŸ“‚ Danh má»¥c</th>
        <th class="right">ğŸ’° Sá»‘ tiá»n</th>
        <th>ğŸ“ Ghi chÃº</th>
      </tr>
    </thead>
    <tbody>
      <c:forEach var="t" items="${expense}">
        <tr>
          <td><fmt:formatDate value="${t.txDay}" pattern="dd/MM/yyyy"/></td>
          <td>${t.categoryName}</td>
          <td class="num">-<fmt:formatNumber value="${t.amount}" pattern="#,##0.##"/> â‚«</td>
          <td>${t.notes}</td>
        </tr>
      </c:forEach>

      <c:if test="${empty expense}">
        <tr class="empty"><td colspan="4">ğŸ“­ ChÆ°a cÃ³ chi tiÃªu trong khoáº£ng thá»i gian nÃ y</td></tr>
      </c:if>
    </tbody>
  </table>
</div>

<!-- Thu nháº­p -->
<div class="section">
  <h3>ğŸ’° Thu nháº­p</h3>
  <table class="table transaction-table">
    <thead>
      <tr>
        <th>ğŸ“… NgÃ y</th>
        <th>ğŸ“‚ Danh má»¥c</th>
        <th class="right">ğŸ’° Sá»‘ tiá»n</th>
        <th>ğŸ“ Ghi chÃº</th>
      </tr>
    </thead>
    <tbody>
      <c:forEach var="t" items="${income}">
        <tr>
          <td><fmt:formatDate value="${t.txDay}" pattern="dd/MM/yyyy"/></td>
          <td>${t.categoryName}</td>
          <td class="num">+<fmt:formatNumber value="${t.amount}" pattern="#,##0.##"/> â‚«</td>
          <td>${t.notes}</td>
        </tr>
      </c:forEach>

      <c:if test="${empty income}">
        <tr class="empty"><td colspan="4">ğŸ“­ ChÆ°a cÃ³ thu nháº­p trong khoáº£ng thá»i gian nÃ y</td></tr>
      </c:if>
    </tbody>
  </table>
</div>
