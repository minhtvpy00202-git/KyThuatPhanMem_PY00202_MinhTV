<%@ page contentType="text/html; charset=UTF-8" %>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title><c:out value="${pageTitle != null ? pageTitle : 'Mini Expense'}"/></title>
  <style>
    body { margin:0; font-family:system-ui,sans-serif; background:#fafafa; }
    .layout { display:grid; grid-template-columns:220px 1fr; min-height:100vh; }
    nav { background:#fff; border-right:1px solid #ddd; padding:16px; }
    nav h3 { margin-top:0; }
    nav a { display:block; padding:10px 12px; margin:6px 0; text-decoration:none; border-radius:6px; color:#222; }
    nav a:hover { background:#f2f2f2; }
    .muted { color:#666; font-size:12px; margin-top:10px; }
    main { padding:20px; background:#fff; }
  </style>
</head>
<body>
  <div class="layout">
    <nav>
      <h3>Menu</h3>
      <!-- Nút về trang chủ -->
      <a href="${pageContext.request.contextPath}/home">🏠 Về trang chủ</a>

      <!-- Các mục thao tác -->
      <a href="${pageContext.request.contextPath}/tx/new?type=INCOME">+ Thêm thu nhập</a>
      <a href="${pageContext.request.contextPath}/tx/new?type=EXPENSE">- Thêm chi tiêu</a>
      <a href="${pageContext.request.contextPath}/categories">Quản lý danh mục</a>
      <a href="${pageContext.request.contextPath}/change-password">Đổi mật khẩu</a>
      <hr>
      <a href="${pageContext.request.contextPath}/logout">Đăng xuất</a>
      <div class="muted">Bạn đang dùng: <c:out value="${sessionScope.user != null ? sessionScope.user.username : ''}"/></div>
    </nav>

    <main>
      <jsp:include page="${body}"/>
    </main>
  </div>
</body>
</html>
